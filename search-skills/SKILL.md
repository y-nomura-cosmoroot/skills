---
name: search-skills
description: 「こういうことがしたい」と伝えると、awesome-claude-skillsなどのキュレーションリストから使えそうなClaude Codeスキルを検索して提案する。
---

# Claude Code スキル検索

ユーザーの要望に合ったClaude Codeスキルを、公開キュレーションリストから検索して提案します。

## 検索ソース

以下のソースから検索します：

1. **awesome-claude-skills** (メイン): https://github.com/BehiSecc/awesome-claude-skills
2. **GitHub検索** (補助): `claude skill` や `claude-code skill` などのキーワードでGitHub上のリポジトリを検索

## 実行手順

### 1. ユーザーの要望を理解する

ユーザーが伝えた「やりたいこと」から、関連するキーワードを抽出する。
日本語の場合は対応する英語キーワードも生成する。

例:
- 「PDFを処理したい」→ pdf, document, extract
- 「セキュリティテストをしたい」→ security, testing, owasp, vulnerability
- 「プレゼンを作りたい」→ presentation, slides, pptx, revealjs

### 2. awesome-claude-skillsを検索する

以下のURLからREADMEを取得し、キーワードに合致するスキルを探す：
- URL: https://raw.githubusercontent.com/BehiSecc/awesome-claude-skills/main/README.md

WebFetchツールを使ってREADMEを取得し、ユーザーの要望に合致するスキルをすべてリストアップする。

### 3. GitHub検索で補完する（任意）

awesome-claude-skillsで見つからなかった場合、または追加の候補が欲しい場合：
- WebSearchツールで `claude code skill {キーワード} site:github.com` を検索
- 関連するリポジトリを追加候補として提示

### 4. セキュリティチェック（必須）

候補に挙がったスキルごとに、SKILL.md の内容を取得して安全性を検証する。
**このステップを省略してはならない。チェックが完了するまでインストールを案内しないこと。**

#### 4-1. SKILL.md の取得

リポジトリから SKILL.md の raw コンテンツを WebFetch で取得する。
SKILL.md が見つからない場合は README.md からスキルの内容を確認する。
内容を取得できない場合は「未検証」として扱う。

#### 4-2. 危険パターンの検出

取得した内容に以下のパターンが含まれていないかチェックする:

**🔴 高リスク（検出したら即 NG）:**
- 外部送信: `curl`, `wget`, `Invoke-WebRequest`, `fetch`, `http.post`, `axios.post` 等で外部URLにデータを送信する指示
- 資格情報アクセス: `.env`, `credentials`, `API_KEY`, `SECRET`, `TOKEN`, SSH鍵, ブラウザCookie, キーチェーンへのアクセス指示
- 難読化: Base64エンコードされたコマンド列、`eval()`, `exec()` による動的コード実行
- システム破壊: `rm -rf /`, `format`, システムディレクトリへの書き込み、レジストリ変更
- 権限昇格: `sudo`, `runas`, 管理者権限の要求

**🟡 中リスク（警告付きで提示）:**
- 外部パッケージの追加インストール（`pip install`, `npm install` 等で提供元が不明確なもの）
- 任意のURLからのスクリプトダウンロードと実行（`curl | bash` パターン）
- ファイルシステムの広範な読み取り（`/**` や再帰的なファイル走査）
- ネットワーク通信を伴う処理（API呼び出し先が明示されていない場合）

**🟢 低リスク:**
- ローカルファイルの読み書きのみ
- ローカルにインストール済みの CLI ツール呼び出し（ffmpeg, git 等）
- 出力がローカルファイルに限定される

#### 4-3. リポジトリの信頼性チェック

WebFetch または GitHub API で以下を確認する:
- スター数（目安: 10未満は注意）
- 最終更新日（1年以上更新なしは注意）
- Issue / セキュリティ報告の有無
- 作者の他のリポジトリ・活動実績

#### 4-4. 安全性ラベルの付与

チェック結果に基づき、各スキルに以下のラベルを付与する:

| ラベル | 条件 |
|--------|------|
| ✅ 安全 | 高リスクパターンなし、中リスクなし、リポジトリに一定の実績あり |
| ⚠️ 注意 | 高リスクなし、中リスクパターンあり、または実績が少ない |
| 🚫 非推奨 | 高リスクパターンを検出、またはSKILL.mdの内容を確認できない |

### 5. 結果を提示する

見つかったスキルを以下の形式で提示する。**安全性ラベルを必ず含めること:**

```
## 見つかったスキル

| スキル名 | 説明 | 安全性 | 検出事項 | リンク |
|---------|------|:------:|---------|--------|
| スキル名 | 簡潔な説明 | ✅ / ⚠️ / 🚫 | 検出されたリスクの概要（なければ「-」） | GitHubリンク |
```

🚫 非推奨のスキルは表に含めるが、**絶対にインストールを案内しない**。
理由を明記して代替手段があれば提案する。

⚠️ 注意のスキルは、検出事項を具体的に説明した上で、ユーザーに判断を委ねる。

### 6. インストール方法を案内する

✅ 安全、または ⚠️ 注意（ユーザーが了承済み）のスキルのみインストール方法を案内する:

```
## インストール方法

グローバル（全プロジェクト共通）:
  ~/.claude/skills/{skill-name}/SKILL.md にスキルファイルを配置

プロジェクト固有:
  .claude/skills/{skill-name}/SKILL.md にスキルファイルを配置

多くのスキルはリポジトリのREADMEにインストール手順が記載されています。
```

**インストール前の推奨事項:**
- SKILL.md の内容を自分の目で確認することを推奨する旨を伝える
- 不明なスクリプトの自動実行は避けるよう注記する

## 注意事項

- 結果が0件の場合は、その旨を伝え、キーワードを変えて再検索を提案する
- 古い・メンテナンスされていないリポジトリは、その旨を注記する
- セキュリティチェックはベストエフォートであり、すべてのリスクを検出できるわけではない旨を免責として付記する
- 最終的なインストール判断はユーザーの責任であることを明記する
