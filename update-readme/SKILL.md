---
name: update-readme
description: READMEを最新の仕様で更新する
user-invocable: true
---

# README・関連ドキュメント更新タスク

プロジェクトのREADME.mdおよびREADMEからリンクされた関連ドキュメント（`*_description.md`等）を最新の実装内容に基づいて更新してください。

## 実施手順

### 1. 変更差分の把握

まず `git diff` で直近の変更内容を確認し、何が変わったかを正確に把握してください。

```bash
git diff HEAD
git diff --cached
```

変更がステージされていない場合やコミット済みの場合は、適切なdiffコマンドで差分を取得してください（例: `git diff HEAD~1`、`git log --oneline -5` で最近のコミットを確認）。

**把握すべき観点**:

- 新規追加された機能
- 既存機能の動作変更（データ形式の変更、出力方式の変更、処理フローの変更）
- 設定項目の追加・変更・削除
- ファイル構成の変更

### 2. プロジェクト構造の把握

プロジェクトルートのファイル・ディレクトリ構成を確認し、主要なソースコード、設定ファイル、モジュールを特定してください。

### 3. 実装内容の確認

ステップ1で特定した変更箇所のコードを読み込み、以下の観点で最新の実装を把握してください：

- 提供している機能（検出、トラッキング、ログ、描画、設定など）
- 対応している入力ソースと出力形式
- ユーザーが操作できるUI・キーボード・マウス操作
- 設定ファイルの形式と設定可能な項目
- データ形式（ログ形式、メタデータ構造、設定ファイル形式）の変更
- 既存機能の動作変更（処理フロー、出力方式、判定ロジック等）
- 必要な環境・ライブラリ（requirements.txt等から取得）
- フォルダ構成と各モジュールの役割

### 4. 更新対象ファイルの特定

以下のファイルを全て確認し、変更が必要なものを特定してください：

1. **README.md** — プロジェクト全体の説明
2. **READMEからリンクされた関連ドキュメント** — `*_description.md`等の詳細ドキュメント

READMEからリンクされたファイルを特定するため、README.md内のリンクを確認してください：

```
例: [タイムラインビューア](timeline_viewer_description.md)
    → timeline_viewer_description.md も更新対象
```

### 5. 既存ドキュメントとの差分確認

各対象ファイルを読み込み、以下を特定してください：

- 実装と一致しない古い記述
- 記載されていない新機能や変更点
- 既存機能の動作変更が反映されていない記述
- データ形式の変更が反映されていない記述（ログ形式、メタデータ構造等）
- Mermaid図など図解がある場合、対応するコードのロジックと一致しているか

### 6. ドキュメントの更新

差分に基づいてREADME.mdおよび関連ドキュメントを更新してください。

**更新の判断基準**:

- READMEに「詳細は〇〇を参照」とリンクがある場合、その詳細ドキュメント側を更新する
- READMEには概要レベルの記述、詳細ドキュメントには具体的な仕様を記載する
- READMEのみに記載されている項目（ログ形式、設定項目等）はREADME側を更新する

### 7. 更新内容の報告

変更した箇所をファイルごとに簡潔に説明してください。

## 更新時の注意事項

- 実装されていない機能は記載しないこと
- 古い情報は削除または更新すること
- コードを確認して正確な情報を記載すること
- ユーザーにとって分かりやすい説明を心がけること
- 日本語で記載すること
- Mermaid図がある場合、構文エラーがないか確認し、既存のスタイルを踏襲すること
